{% extends 'blog/_layout.html' %}
{% load static %}
{% load ui_macro %}

{% block title %} {{ post.title }} | {{ author }}'blog {% endblock %}
{% block css_extra %}
<link rel="stylesheet" href="{% static "css/semo-edit.css" %}">
{% endblock %}
{% block page_class %} page-post-detail {% endblock %}


{% block content %}

<div id="posts" class="posts-expand">

	<article class="post post-type-normal " itemscope itemtype="//schema.org/Article">
		<header class="post-header">
			<h1 class="post-title" itemprop="name headline">
        <span class="post-meta post-meta-item-text">标题</span>
        <input class="post-edit-input post-edit-title" value="{{ post.title }}" />
			</h1>
			<div class="post-meta">
				<span class="post-category" >
					<span class="post-meta-item-icon">
						<i class="fa fa-folder-o"></i>
					</span>
					<span class="post-meta-item-text">分类于</span>

          <!-- 类别选择编辑框 -->
					<span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="#" itemprop="url" rel="index">
              <select id="category-input">
                {% for category in categories %}
                {% if category.id == post.category.id %}
                <option value="{{ category.id }}" selected>{{ category.name }}</option>
                {% else %}
                <option value="{{ category.id }}">{{ category.name }}</option>
                {% endif %}
                {% endfor %}
              </select>
						</a>
					</span>
				</span>
        <span id="{% url 'blog:post' post.id %}" class="leancloud_visitors" data-flag-title="{{ post.title }}">
					&nbsp; | &nbsp;
					<span class="post-meta-item-icon">
						<i class="fa fa-eye"></i>
					</span>
					<span class="post-meta-item-text">标签</span>

          <!-- Tags 编辑框 -->
					<span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="#" itemprop="url" rel="index">
              <input class="post-edit-input post-edit-tags" type="text" placeholder="多个标签之间使用逗号隔开" />
						</a>
					</span>

				</span>
			</div>
		</header>

		<div class="post-body" itemprop="articleBody">
      <textarea class="post-edit-body" >{{ post.body | safe }}</textarea>
		</div>
	</article>
</div>

{% endblock %}

{% block script_extra %}
<script type="text/javascript" src="{% static "js/src/scrollspy.js" %}?v=5.1.0"></script>
<script type="text/javascript" src="{% static "js/src/post-details.js" %}?v=5.1.0"></script>
{% endblock %}
